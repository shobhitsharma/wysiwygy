{"version":3,"file":"wysiwygy.min.js","sources":["../src/defaults.js","../src/hooks.js","../src/utils.js","../src/core.js","../src/index.js"],"sourcesContent":["const Defaults = {\n\n  options: {\n    style: true,\n    toolbar: [],\n    colors: [],\n    templates: [],\n    icons: {\n      class: 'material-icons',\n      definitions: {}\n    }\n  },\n\n  toolbar: {\n    format: {\n      icon: 'title',\n      label: 'Headline Format',\n      command: 'formatBlock',\n      dropdown: [{\n          id: 'h1',\n          label: 'Header 1'\n        },\n        {\n          id: 'h2',\n          label: 'Header 2'\n        },\n        {\n          id: 'h3',\n          label: 'Header 3'\n        },\n        {\n          id: 'h4',\n          label: 'Header 4'\n        },\n        {\n          id: 'p',\n          label: 'Paragraph'\n        },\n        {\n          id: 'pre',\n          label: 'Preformatted'\n        },\n        {\n          id: 'blockquote',\n          label: 'Quote'\n        }\n      ]\n    },\n\n    fontSize: {\n      icon: 'format_size',\n      label: 'Font Size',\n      command: 'fontSize',\n      dropdown: [{\n          id: 1,\n          label: 'Minimum'\n        },\n        {\n          id: 2,\n          label: 'Smaller'\n        },\n        {\n          id: 3,\n          label: 'Normal'\n        },\n        {\n          id: 4,\n          label: 'Medium'\n        },\n        {\n          id: 5,\n          label: 'Large'\n        },\n        {\n          id: 6,\n          label: 'Extra Large'\n        },\n        {\n          id: 7,\n          label: 'Maximum'\n        }\n      ]\n    },\n\n    fontColor: {\n      icon: 'format_color_text',\n      label: 'Font Color',\n      command: 'foreColor',\n      field: 'colors',\n      modal: true\n    },\n\n    fontBackground: {\n      icon: 'format_color_fill',\n      label: 'Font Background',\n      command: 'backColor',\n      field: 'colors',\n      modal: true\n    },\n\n    source: {\n      icon: 'code',\n      label: 'Show HTML',\n      command: 'insertHTML',\n      modal: true\n    },\n\n    undo: {\n      icon: 'undo',\n      label: 'Undo',\n      command: 'undo'\n    },\n\n    redo: {\n      icon: 'redo',\n      label: 'Redo',\n      command: 'redo'\n    },\n\n    reformat: {\n      icon: 'format_clear',\n      label: 'Remove Formatting',\n      command: 'removeFormat'\n    },\n\n    bold: {\n      icon: 'format_bold',\n      label: 'Bold',\n      command: 'bold'\n    },\n\n    italic: {\n      icon: 'format_italic',\n      label: 'Italic',\n      command: 'italic'\n    },\n\n    underline: {\n      icon: 'format_underlined',\n      label: 'Underline',\n      command: 'underline'\n    },\n\n    strike: {\n      icon: 'format_strikethrough',\n      label: 'Strike',\n      command: 'strikeThrough'\n    },\n\n    leftAlign: {\n      icon: 'format_align_left',\n      label: 'Left Align',\n      command: 'justifyLeft'\n    },\n\n    rightAlign: {\n      icon: 'format_align_right',\n      label: 'Right Align',\n      command: 'justifyRight'\n    },\n\n    centerAlign: {\n      icon: 'format_align_center',\n      label: 'Center Align',\n      command: 'justifyCenter'\n    },\n\n    fullAlign: {\n      icon: 'format_align_justify',\n      label: 'Justify',\n      command: 'justifyFull'\n    },\n\n    numberedList: {\n      icon: 'format_list_bulleted',\n      label: 'Ordered List',\n      command: 'insertOrderedList'\n    },\n\n    orderedList: {\n      icon: 'format_list_bulleted',\n      label: 'Unordered List',\n      command: 'insertUnorderedList'\n    },\n\n    link: {\n      icon: 'insert_link',\n      label: 'Link',\n      command: 'createLink',\n      modal: true\n    },\n\n    unlink: {\n      icon: 'wb_iridescent',\n      label: 'Unlink',\n      command: 'unlink'\n    },\n\n    image: {\n      icon: 'camera_alt',\n      label: 'Image',\n      command: 'insertImage',\n      modal: true\n    },\n\n    table: {\n      icon: 'grid_on',\n      label: 'Table',\n      command: 'insertTable'\n    },\n\n    templates: {\n      icon: 'description',\n      label: 'Templates',\n      command: 'template',\n      field: 'templates',\n      modal: true\n    }\n  }\n};\n\nmodule.exports = Defaults;","/**\n * @method selection\n * Exposes, preserves and restores cursor selection range in ContentEditable\n *\n * @type {{save: Core.selection.save, restore: Core.selection.restore, insert: Core.selection.insert}}\n */\n\nexports.Hooks = {\n\n  save: function (el) {\n    if (!el) {\n      return;\n    }\n    var start, end;\n    if (window.getSelection && document.createRange) {\n      if (window.getSelection().type === 'NONE' || window.getSelection().rangeCount === 0) {\n        return;\n      }\n      var range = window.getSelection().getRangeAt(0);\n      var preSelectionRange = range.cloneRange();\n\n      preSelectionRange.selectNodeContents(el);\n      preSelectionRange.setEnd(range.startContainer, range.startOffset);\n      start = preSelectionRange.toString().length;\n      end = start + range.toString().length;\n\n      return {\n        start: start,\n        end: end\n      };\n    } else if (document.selection && document.body.createTextRange) {\n      var selectedTextRange = document.selection.createRange();\n      var preSelectionTextRange = document.body.createTextRange();\n\n      preSelectionTextRange.moveToElementText(el);\n      preSelectionTextRange.setEndPoint('EndToStart', selectedTextRange);\n      start = preSelectionTextRange.text.length;\n      end = start + selectedTextRange.text.length;\n\n      return {\n        start: start,\n        end: end\n      };\n    }\n  },\n\n  restore: function (el, saved_range) {\n    if (!el || !saved_range) {\n      return;\n    }\n    if (window.getSelection && document.createRange) {\n      var charIndex = 0;\n      var range = document.createRange();\n\n      range.setStart(el, 0);\n      range.collapse(true);\n\n      var nodeStack = [el];\n      var node = null;\n      var foundStart = false;\n      var stop = false;\n\n      while (!stop && (node = nodeStack.pop())) {\n        if (node.nodeType === 3) {\n          var nextCharIndex = charIndex + node.length;\n          if (!foundStart && saved_range.start >= charIndex && saved_range.start <= nextCharIndex) {\n            range.setStart(node, saved_range.start - charIndex);\n            foundStart = true;\n          }\n          if (foundStart && saved_range.end >= charIndex && saved_range.end <= nextCharIndex) {\n            range.setEnd(node, saved_range.end - charIndex);\n            stop = true;\n          }\n          charIndex = nextCharIndex;\n        } else {\n          var i = node.childNodes.length;\n          while (i--) {\n            nodeStack.push(node.childNodes[i]);\n          }\n        }\n      }\n\n      var sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(range);\n    } else if (document.selection && document.body.createTextRange) {\n      var textRange = document.body.createTextRange();\n      textRange.moveToElementText(el);\n      textRange.collapse(true);\n      textRange.moveEnd(\"character\", saved_range.end);\n      textRange.moveStart(\"character\", saved_range.start);\n      textRange.select();\n    }\n  },\n\n  insert: function (text) {\n    var sel, range, html;\n    if (window.getSelection) {\n      sel = window.getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        range = sel.getRangeAt(0);\n        range.deleteContents();\n        var textNode = document.createTextNode(text);\n        range.insertNode(textNode);\n        sel.removeAllRanges();\n        range = range.cloneRange();\n        range.selectNode(textNode);\n        range.collapse(false);\n        sel.addRange(range);\n      }\n    } else if (document.selection && document.selection.createRange) {\n      range = document.selection.createRange();\n      range.pasteHTML(text);\n      range.select();\n    }\n  }\n};","const Utils = {\n\n  /**\n   * @function Validate Element\n   *\n   * @param {any} obj\n   * @returns\n   */\n  validateElement: function validateElement(obj) {\n    try {\n      return obj instanceof window.HTMLElement;\n    } catch (e) {\n      return (typeof obj === \"object\") &&\n        (obj.nodeType === 1) && (typeof obj.style === \"object\") &&\n        (typeof obj.ownerDocument === \"object\");\n    }\n  },\n\n  /**\n   * @function Create Element\n   *\n   * @param {any} tagName\n   * @param {any} attributes\n   * @param {any} html\n   * @returns\n   */\n  createElement: function createElement(tagName, attributes, html) {\n    var el = document.createElement('div');\n\n    for (var key in attributes) {\n      if (attributes.hasOwnProperty(key)) {\n        el.setAttribute(key, attributes[key]);\n      }\n    }\n\n    el.innerHTML = html || '';\n\n    return el;\n  },\n\n  /**\n   * @function Object Extend\n   *\n   * @param {any} a\n   * @param {any} b\n   * @returns\n   */\n  extend: function extend(a, b) {\n    for (var key in b) {\n      if (b.hasOwnProperty(key)) {\n        a[key] = b[key];\n      }\n    }\n    return a;\n  },\n\n  /**\n   * @function Object to CSS converter\n   *\n   * @param {any} obj\n   * @returns\n   */\n  objectToCss: function objectToCss(obj) {\n    var css = '';\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        var props = obj[key];\n\n        css += key + '{' + addCssRules(props) + '}';\n      }\n    }\n    return css;\n\n    function addCssRules(props) {\n      var rule = '';\n      for (var key in props) {\n        if (props.hasOwnProperty(key)) {\n          rule += key + ':' + props[key] + ';';\n        }\n      }\n      return rule;\n    }\n  }\n\n};\n\nmodule.exports = Utils;","/**\n * @file core.js\n */\n\nimport Defaults from './defaults.js';\nimport Hooks from './hooks.js';\nimport Utils from './utils.js';\n\n/**\n * @class Core\n *\n * @param {any} el\n * @param {any} options\n * @returns\n */\nexport default class Core {\n\n  constructor(el, options) {\n    console.log('Core', 'initialized', el, options, Defaults, Utils);\n\n    this.el = el;\n    this.options = Utils.extend(Defaults.options, options);\n    this.range = null;\n    this.events = {};\n\n    this.build(this.el, this.options);\n  }\n\n  /**\n   * @method build\n   *\n   * Builds Core instance by handling DOM and Binding Events\n   */\n  build() {\n    console.log('Core', 'build', this.el, this.options);\n    // Defaults\n    this.el.style.display = 'none';\n\n    // Create Core element\n    this.wysiwygy_el = Utils.createElement('div', {\n      class: 'wysiwygy-container'\n    });\n\n    // Create toolbar element\n    this.toolbar_el = Utils.createElement('div', {\n      class: 'wysiwygy-toolbar'\n    }, getToolbarTemplate(Defaults.toolbar, this.options));\n\n    // Create content element\n    this.editable_el = Utils.createElement('div', {\n      class: 'wysiwygy-content',\n      placeholder: 'Type something...',\n      contenteditable: true\n    }, this.el.value);\n\n    // Create modal element\n    this.modal_el = Utils.createElement('div', {\n      class: 'wysiwygy-modal',\n      style: 'z-index:999;'\n    });\n\n    this.modal_el.innerHTML = getModalTemplate();\n\n    this.wysiwygy_el.appendChild(this.toolbar_el);\n    this.wysiwygy_el.appendChild(this.editable_el);\n    this.wysiwygy_el.appendChild(this.modal_el);\n    this.el.parentNode.insertBefore(this.wysiwygy_el, this.el.nextSibling);\n\n    this.editable_el.focus();\n\n    this.connect(); // Connects DOM events\n\n    // Toolbar Template\n    function getToolbarTemplate(definitions, defaults) {\n      console.log('Core', 'getToolbarTemplate', definitions);\n      var html = '';\n      var enabled = [];\n\n      for (var key in definitions) {\n        if (definitions.hasOwnProperty(key)) {\n          if (defaults.toolbar.indexOf(key) !== -1) {\n            enabled.push({\n              key: key,\n              config: definitions[key]\n            });\n          }\n        }\n      }\n\n      enabled.sort(function (a, b) {\n        return (defaults.toolbar.indexOf(a.key) - defaults.toolbar.indexOf(b.key));\n      });\n\n      enabled.forEach(function (entity) {\n        var config = entity.config;\n        html += '<div class=\"wysiwygy-button-group\">';\n\n        if (config.modal) {\n          html += '<button class=\"wysiwygy-toolbar_item\" data-wysiwygy-field=\"' + config.field + '\" ' +\n            ' data-wysiwygy-label=\"' + config.label + '\" data-wysiwygy-modal=\"' + config.command + '\" unselectable=\"on\">' +\n            '<i class=\"' + defaults.icons.class + '\">' + config.icon + '</i></button>';\n        } else if (config.dropdown) {\n          html += '<button class=\"wysiwygy-toolbar_item\" data-wysiwygy-label=\"' + config.label + '\" unselectable=\"on\">' +\n            '<i class=\"' + defaults.icons.class + '\">' + config.icon + '</i></button>';\n          html += getToolbarDropdown(config.dropdown, config.command);\n        } else {\n          html += '<button class=\"wysiwygy-toolbar_item\" data-wysiwygy-command=\"' + config.command + '\" ' +\n            'data-wysiwygy-label=\"' + config.label + '\" unselectable=\"on\"><i class=\"' + defaults.icons.class + '\">' +\n            config.icon + '</i></button>';\n        }\n\n        html += '</div>';\n      });\n\n      return html;\n    }\n\n    // Toolbar Dropdown Template\n    function getToolbarDropdown(attributes, command) {\n      var html = '<div class=\"wysiwygy-toolbar_item_dropdown\">';\n      attributes.forEach(function (entity) {\n        html += '<a href=\"javascript:void(0);\" data-wysiwygy-value=\"' + entity.id + '\" ' +\n          'data-wysiwygy-command=\"' + command + '\">' + entity.label + '</a>';\n      });\n      html += '</div>';\n      return html;\n    }\n\n    // Modal Template\n    function getModalTemplate(type) {\n      var html = '';\n      html += '<a href=\"javascript:void(0);\" class=\"wysiwygy-modal-close\" ' +\n        'data-wysiwygy-modal=\"close\"><i class=\"material-icons\">clear</i></a>';\n      html += '<form class=\"wysiwygy-modal-form\"></form>';\n      return html;\n    }\n  };\n\n  /**\n   * @method connect\n   *\n   * Connects DOM Events and emit necessary events\n   */\n  connect() {\n    console.log('Core', 'connect', this.wysiwygy_el);\n    var nativeCommands = this.toolbar_el.querySelectorAll('[data-wysiwygy-command]');\n    var modalCommands = this.toolbar_el.querySelectorAll('[data-wysiwygy-modal]');\n    var modalForm = this.modal_el.querySelector('.wysiwygy-modal-form');\n\n    this.editable_el.addEventListener('input', function (event) {\n      this.emit('change', this, this.getValue());\n    }.bind(this), false);\n\n    this.editable_el.addEventListener('paste', function (event) {\n      this.emit('paste', this, this.getValue());\n    }.bind(this), false);\n\n    this.editable_el.addEventListener('cut', function (event) {\n      this.emit('cut', this, this.getValue());\n    }.bind(this), false);\n\n    this.editable_el.addEventListener('copy', function (event) {\n      this.emit('copy', this, this.getValue());\n    }.bind(this), false);\n\n    this.editable_el.addEventListener('focus', function (event) {\n      this.emit('focus', this, this.getValue());\n    }.bind(this), false);\n\n    this.editable_el.addEventListener('blur', function (event) {\n      this.emit('blur', this, this.getValue());\n    }.bind(this), false);\n\n    this.modal_el.querySelector('.wysiwygy-modal-close')\n      .addEventListener('click', function (event) {\n        this.selection.restore(this.editable_el, this.range);\n        this.modal_el.style.display = 'none';\n        this.emit('modalclosed', this.getValue());\n        event.preventDefault();\n      }.bind(this), false);\n\n    this.modal_el.querySelector('.wysiwygy-modal-form')\n      .addEventListener('submit', function (event) {\n        event.preventDefault();\n        var command = event.target.dataset.wysiwygyForm;\n        var attributes = event.target.querySelectorAll('[name]') || [];\n        var formData = Array.prototype.map.call(attributes, function (entity) {\n          return {\n            name: entity.getAttribute('name'),\n            value: entity.value\n          };\n        });\n\n        this.selection.restore(this.editable_el, this.range);\n        this.modal_el.style.display = 'none';\n\n        if (!formData) {\n          return;\n        }\n\n        if (command === 'insertImage') {\n          var image = '<img src=\"' + formData[0].value + '\"';\n          if (!isNaN(formData[1].value)) {\n            image += ' width=\"' + parseInt(formData[1].value, 10) + '\"';\n          }\n          if (!isNaN(formData[2].value)) {\n            image += ' height=\"' + parseInt(formData[2].value, 10) + '\"';\n          }\n          image += '/>';\n          this.execute('insertHTML', image);\n        } else if (command === 'insertHTML') {\n          this.setValue(formData[0].value);\n        } else {\n          this.execute(command, formData[0].value);\n        }\n        this.emit('update', this.getValue());\n        event.preventDefault();\n      }.bind(this), false);\n\n    /**\n     * @event commands\n     * Runs native browser contenteditable manipulation commands\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand#Commands\n     */\n    Array.prototype.forEach.call(nativeCommands, function (action) {\n      action.addEventListener('mousedown', function (e) {\n        e.preventDefault();\n        this.range = this.selection.save(this.editable_el);\n        if (action.dataset.wysiwygyCommand === 'insertTable') {\n          this.execute('insertHTML', (\n            '<table><tbody>' +\n            '<tr><td>--</td><td>--</td><td>--</td></tr>' +\n            '<tr><td>--</td><td>--</td><td>--</td></tr>' +\n            '<tr><td>--</td><td>--</td><td>--</td></tr>' +\n            '<tr><td>--</td><td>--</td><td>--</td></tr>' +\n            '<tr><td>--</td><td>--</td><td>--</td></tr>' +\n            '</tbody></table>'\n          ));\n        } else {\n          this.execute(action.dataset.wysiwygyCommand, action.dataset.wysiwygyValue);\n        }\n        this.emit('update', this.getValue());\n      }.bind(this), false);\n    }.bind(this));\n\n    /**\n     * @event Modal Insert Commands\n     */\n    Array.prototype.forEach.call(modalCommands, function (action) {\n      action.addEventListener('mousedown', function (e) {\n        e.preventDefault();\n        var form = '';\n        var modal_command = action.dataset.wysiwygyModal;\n\n        this.range = this.selection.save(this.editable_el);\n        this.modal_el.style.display = 'block';\n        modalForm.setAttribute('data-wysiwygy-form', modal_command);\n        modalForm.reset();\n\n        switch (modal_command) {\n          case 'foreColor':\n            modalForm.style.minWidth = 'inherit';\n            form += '<input type=\"text\" name=\"color\" placeholder=\"Enter HEX or RGBA\"/></div>';\n            form += '<div class=\"wysiwygy-form-block\"><input type=\"submit\" value=\"Apply Font Color\"/></div>';\n            break;\n          case 'backColor':\n            modalForm.style.minWidth = 'inherit';\n            form += '<input type=\"text\" name=\"color\" placeholder=\"Enter HEX or RGBA\"/>';\n            form += '<div class=\"wysiwygy-form-block\"><input type=\"submit\" value=\"Apply Fill Color\"/></div>';\n            break;\n          case 'createLink':\n            modalForm.style.minWidth = '70%';\n            form += '<input type=\"text\" name=\"url\" placeholder=\"Enter URL\"/>';\n            form += '<div class=\"wysiwygy-form-block\"><input type=\"submit\" value=\"Add Link\"/></div>';\n            break;\n          case 'templates':\n            modalForm.style.minWidth = '70%';\n            form += '<select name=\"template\"></select>';\n            form += '<div class=\"wysiwygy-form-block\"><input type=\"submit\" value=\"Add Selected Template\"/></div>';\n            break;\n          case 'insertImage':\n            modalForm.style.minWidth = '75%';\n            form += '<input type=\"text\" name=\"image\" style=\"width:69%;\" placeholder=\"Enter Image URL\"/>';\n            form += '<input type=\"text\" name=\"width\" style=\"width:14%;\" placeholder=\"Width\"/>';\n            form += '<input type=\"text\" name=\"height\" style=\"width:14%;\" placeholder=\"Height\"/>';\n            form += '<div class=\"wysiwygy-form-block\"><input type=\"submit\" value=\"Insert Image\"/></div>';\n            break;\n          case 'insertHTML':\n            modalForm.style.minWidth = '90%';\n            form += '<textarea class=\"wysiwygy-source-html\" name=\"insertHTML\">' + this.getValue() + '</textarea>';\n            form += '<div class=\"wysiwygy-form-block\"><input type=\"submit\" value=\"Apply HTML\"/></div>';\n            break;\n        }\n\n        modalForm.innerHTML = form;\n        this.emit('modalopened', this.getValue());\n      }.bind(this), false);\n    }.bind(this));\n  };\n\n  /**\n   * @method getValue\n   *\n   * Returns HTML value for ContentEditable\n   *\n   * @returns {*|any|string|string}\n   */\n  getValue() {\n    return this.editable_el.innerHTML;\n  };\n\n  /**\n   * @method setValue\n   *\n   * Sets value passed along in ContentEditable\n   *\n   * @param value\n   */\n  setValue(value) {\n    this.editable_el.innerHTML = value;\n  };\n\n  /**\n   * @method destroy\n   *\n   * Removes instance of Core from the DOM and clear events\n   *\n   * @param value\n   */\n  destroy(value) {\n    this.el.style.display = 'block';\n    this.toolbar_el.remove();\n    this.editable_el.remove();\n    this.wysiwygy_el.remove();\n    this.emit('destroy', this.getValue());\n  }\n\n  /**\n   * @private\n   * @method execute\n   *\n   * Commands DOM to perform operations\n   *\n   * @param command\n   * @param value\n   */\n  execute(command, value) {\n    console.log('Core', 'execute', command, value, this.range);\n    value = (typeof value === 'undefined') ? '' : value;\n    document.execCommand(command, false, value);\n  }\n\n}","/**\n * \n * @author Shobhit Sharma\n */\n\nimport Core from './core.js';\nexport default class WYSIWYGY {\n\n  constructor(options) {\n    this.options = options || {};\n  }\n\n  render(el, options) {\n    console.log('-render-', el, options);\n\n    this.x = new Core(el, options);\n  }\n}"],"names":["Defaults","Utils","defaults"],"mappings":";;;AAAA,MAAM,QAAQ,GAAG;;EAEf,OAAO,EAAE;IACP,KAAK,EAAE,IAAI;IACX,OAAO,EAAE,EAAE;IACX,MAAM,EAAE,EAAE;IACV,SAAS,EAAE,EAAE;IACb,KAAK,EAAE;MACL,KAAK,EAAE,gBAAgB;MACvB,WAAW,EAAE,EAAE;KAChB;GACF;;EAED,OAAO,EAAE;IACP,MAAM,EAAE;MACN,IAAI,EAAE,OAAO;MACb,KAAK,EAAE,iBAAiB;MACxB,OAAO,EAAE,aAAa;MACtB,QAAQ,EAAE,CAAC;UACP,EAAE,EAAE,IAAI;UACR,KAAK,EAAE,UAAU;SAClB;QACD;UACE,EAAE,EAAE,IAAI;UACR,KAAK,EAAE,UAAU;SAClB;QACD;UACE,EAAE,EAAE,IAAI;UACR,KAAK,EAAE,UAAU;SAClB;QACD;UACE,EAAE,EAAE,IAAI;UACR,KAAK,EAAE,UAAU;SAClB;QACD;UACE,EAAE,EAAE,GAAG;UACP,KAAK,EAAE,WAAW;SACnB;QACD;UACE,EAAE,EAAE,KAAK;UACT,KAAK,EAAE,cAAc;SACtB;QACD;UACE,EAAE,EAAE,YAAY;UAChB,KAAK,EAAE,OAAO;SACf;OACF;KACF;;IAED,QAAQ,EAAE;MACR,IAAI,EAAE,aAAa;MACnB,KAAK,EAAE,WAAW;MAClB,OAAO,EAAE,UAAU;MACnB,QAAQ,EAAE,CAAC;UACP,EAAE,EAAE,CAAC;UACL,KAAK,EAAE,SAAS;SACjB;QACD;UACE,EAAE,EAAE,CAAC;UACL,KAAK,EAAE,SAAS;SACjB;QACD;UACE,EAAE,EAAE,CAAC;UACL,KAAK,EAAE,QAAQ;SAChB;QACD;UACE,EAAE,EAAE,CAAC;UACL,KAAK,EAAE,QAAQ;SAChB;QACD;UACE,EAAE,EAAE,CAAC;UACL,KAAK,EAAE,OAAO;SACf;QACD;UACE,EAAE,EAAE,CAAC;UACL,KAAK,EAAE,aAAa;SACrB;QACD;UACE,EAAE,EAAE,CAAC;UACL,KAAK,EAAE,SAAS;SACjB;OACF;KACF;;IAED,SAAS,EAAE;MACT,IAAI,EAAE,mBAAmB;MACzB,KAAK,EAAE,YAAY;MACnB,OAAO,EAAE,WAAW;MACpB,KAAK,EAAE,QAAQ;MACf,KAAK,EAAE,IAAI;KACZ;;IAED,cAAc,EAAE;MACd,IAAI,EAAE,mBAAmB;MACzB,KAAK,EAAE,iBAAiB;MACxB,OAAO,EAAE,WAAW;MACpB,KAAK,EAAE,QAAQ;MACf,KAAK,EAAE,IAAI;KACZ;;IAED,MAAM,EAAE;MACN,IAAI,EAAE,MAAM;MACZ,KAAK,EAAE,WAAW;MAClB,OAAO,EAAE,YAAY;MACrB,KAAK,EAAE,IAAI;KACZ;;IAED,IAAI,EAAE;MACJ,IAAI,EAAE,MAAM;MACZ,KAAK,EAAE,MAAM;MACb,OAAO,EAAE,MAAM;KAChB;;IAED,IAAI,EAAE;MACJ,IAAI,EAAE,MAAM;MACZ,KAAK,EAAE,MAAM;MACb,OAAO,EAAE,MAAM;KAChB;;IAED,QAAQ,EAAE;MACR,IAAI,EAAE,cAAc;MACpB,KAAK,EAAE,mBAAmB;MAC1B,OAAO,EAAE,cAAc;KACxB;;IAED,IAAI,EAAE;MACJ,IAAI,EAAE,aAAa;MACnB,KAAK,EAAE,MAAM;MACb,OAAO,EAAE,MAAM;KAChB;;IAED,MAAM,EAAE;MACN,IAAI,EAAE,eAAe;MACrB,KAAK,EAAE,QAAQ;MACf,OAAO,EAAE,QAAQ;KAClB;;IAED,SAAS,EAAE;MACT,IAAI,EAAE,mBAAmB;MACzB,KAAK,EAAE,WAAW;MAClB,OAAO,EAAE,WAAW;KACrB;;IAED,MAAM,EAAE;MACN,IAAI,EAAE,sBAAsB;MAC5B,KAAK,EAAE,QAAQ;MACf,OAAO,EAAE,eAAe;KACzB;;IAED,SAAS,EAAE;MACT,IAAI,EAAE,mBAAmB;MACzB,KAAK,EAAE,YAAY;MACnB,OAAO,EAAE,aAAa;KACvB;;IAED,UAAU,EAAE;MACV,IAAI,EAAE,oBAAoB;MAC1B,KAAK,EAAE,aAAa;MACpB,OAAO,EAAE,cAAc;KACxB;;IAED,WAAW,EAAE;MACX,IAAI,EAAE,qBAAqB;MAC3B,KAAK,EAAE,cAAc;MACrB,OAAO,EAAE,eAAe;KACzB;;IAED,SAAS,EAAE;MACT,IAAI,EAAE,sBAAsB;MAC5B,KAAK,EAAE,SAAS;MAChB,OAAO,EAAE,aAAa;KACvB;;IAED,YAAY,EAAE;MACZ,IAAI,EAAE,sBAAsB;MAC5B,KAAK,EAAE,cAAc;MACrB,OAAO,EAAE,mBAAmB;KAC7B;;IAED,WAAW,EAAE;MACX,IAAI,EAAE,sBAAsB;MAC5B,KAAK,EAAE,gBAAgB;MACvB,OAAO,EAAE,qBAAqB;KAC/B;;IAED,IAAI,EAAE;MACJ,IAAI,EAAE,aAAa;MACnB,KAAK,EAAE,MAAM;MACb,OAAO,EAAE,YAAY;MACrB,KAAK,EAAE,IAAI;KACZ;;IAED,MAAM,EAAE;MACN,IAAI,EAAE,eAAe;MACrB,KAAK,EAAE,QAAQ;MACf,OAAO,EAAE,QAAQ;KAClB;;IAED,KAAK,EAAE;MACL,IAAI,EAAE,YAAY;MAClB,KAAK,EAAE,OAAO;MACd,OAAO,EAAE,aAAa;MACtB,KAAK,EAAE,IAAI;KACZ;;IAED,KAAK,EAAE;MACL,IAAI,EAAE,SAAS;MACf,KAAK,EAAE,OAAO;MACd,OAAO,EAAE,aAAa;KACvB;;IAED,SAAS,EAAE;MACT,IAAI,EAAE,aAAa;MACnB,KAAK,EAAE,WAAW;MAClB,OAAO,EAAE,UAAU;MACnB,KAAK,EAAE,WAAW;MAClB,KAAK,EAAE,IAAI;KACZ;GACF;CACF,CAAC;;AAEF,YAAc,GAAG,QAAQ;;AC7NzB;;;;;;;ACAA,MAAM,KAAK,GAAG;;;;;;;;EAQZ,eAAe,EAAE,SAAS,eAAe,CAAC,GAAG,EAAE;IAC7C,IAAI;MACF,OAAO,GAAG,YAAY,MAAM,CAAC,WAAW,CAAC;KAC1C,CAAC,OAAO,CAAC,EAAE;MACV,OAAO,CAAC,OAAO,GAAG,KAAK,QAAQ;SAC5B,GAAG,CAAC,QAAQ,KAAK,CAAC,CAAC,KAAK,OAAO,GAAG,CAAC,KAAK,KAAK,QAAQ,CAAC;SACtD,OAAO,GAAG,CAAC,aAAa,KAAK,QAAQ,CAAC,CAAC;KAC3C;GACF;;;;;;;;;;EAUD,aAAa,EAAE,SAAS,aAAa,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE;IAC/D,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;;IAEvC,KAAK,IAAI,GAAG,IAAI,UAAU,EAAE;MAC1B,IAAI,UAAU,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;QAClC,EAAE,CAAC,YAAY,CAAC,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;OACvC;KACF;;IAED,EAAE,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;;IAE1B,OAAO,EAAE,CAAC;GACX;;;;;;;;;EASD,MAAM,EAAE,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC5B,KAAK,IAAI,GAAG,IAAI,CAAC,EAAE;MACjB,IAAI,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;QACzB,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;OACjB;KACF;IACD,OAAO,CAAC,CAAC;GACV;;;;;;;;EAQD,WAAW,EAAE,SAAS,WAAW,CAAC,GAAG,EAAE;IACrC,IAAI,GAAG,GAAG,EAAE,CAAC;IACb,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;MACnB,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;QAC3B,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;;QAErB,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;OAC7C;KACF;IACD,OAAO,GAAG,CAAC;;IAEX,SAAS,WAAW,CAAC,KAAK,EAAE;MAC1B,IAAI,IAAI,GAAG,EAAE,CAAC;MACd,KAAK,IAAI,GAAG,IAAI,KAAK,EAAE;QACrB,IAAI,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;UAC7B,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;SACtC;OACF;MACD,OAAO,IAAI,CAAC;KACb;GACF;;CAEF,CAAC;;AAEF,SAAc,GAAG,KAAK;;ACtFtB;;;;AAIA,AAIA;;;;;;;AAOA,AAAe,MAAM,IAAI,CAAC;;EAExB,WAAW,CAAC,EAAE,EAAE,OAAO,EAAE;IACvB,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,aAAa,EAAE,EAAE,EAAE,OAAO,EAAEA,QAAQ,EAAEC,KAAK,CAAC,CAAC;;IAEjE,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACb,IAAI,CAAC,OAAO,GAAGA,KAAK,CAAC,MAAM,CAACD,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACvD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAClB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;;IAEjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;GACnC;;;;;;;EAOD,KAAK,GAAG;IACN,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;;IAEpD,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;;;IAG/B,IAAI,CAAC,WAAW,GAAGC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE;MAC5C,KAAK,EAAE,oBAAoB;KAC5B,CAAC,CAAC;;;IAGH,IAAI,CAAC,UAAU,GAAGA,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE;MAC3C,KAAK,EAAE,kBAAkB;KAC1B,EAAE,kBAAkB,CAACD,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;;;IAGvD,IAAI,CAAC,WAAW,GAAGC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE;MAC5C,KAAK,EAAE,kBAAkB;MACzB,WAAW,EAAE,mBAAmB;MAChC,eAAe,EAAE,IAAI;KACtB,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;;;IAGlB,IAAI,CAAC,QAAQ,GAAGA,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE;MACzC,KAAK,EAAE,gBAAgB;MACvB,KAAK,EAAE,cAAc;KACtB,CAAC,CAAC;;IAEH,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,gBAAgB,EAAE,CAAC;;IAE7C,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC9C,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC/C,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC5C,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;;IAEvE,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;;IAEzB,IAAI,CAAC,OAAO,EAAE,CAAC;;;IAGf,SAAS,kBAAkB,CAAC,WAAW,EAAEC,WAAQ,EAAE;MACjD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,oBAAoB,EAAE,WAAW,CAAC,CAAC;MACvD,IAAI,IAAI,GAAG,EAAE,CAAC;MACd,IAAI,OAAO,GAAG,EAAE,CAAC;;MAEjB,KAAK,IAAI,GAAG,IAAI,WAAW,EAAE;QAC3B,IAAI,WAAW,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;UACnC,IAAIA,WAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;YACxC,OAAO,CAAC,IAAI,CAAC;cACX,GAAG,EAAE,GAAG;cACR,MAAM,EAAE,WAAW,CAAC,GAAG,CAAC;aACzB,CAAC,CAAC;WACJ;SACF;OACF;;MAED,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;QAC3B,QAAQA,WAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGA,WAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;OAC5E,CAAC,CAAC;;MAEH,OAAO,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;QAChC,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC3B,IAAI,IAAI,qCAAqC,CAAC;;QAE9C,IAAI,MAAM,CAAC,KAAK,EAAE;UAChB,IAAI,IAAI,6DAA6D,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI;YACzF,wBAAwB,GAAG,MAAM,CAAC,KAAK,GAAG,yBAAyB,GAAG,MAAM,CAAC,OAAO,GAAG,sBAAsB;YAC7G,YAAY,GAAGA,WAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,MAAM,CAAC,IAAI,GAAG,eAAe,CAAC;SAC9E,MAAM,IAAI,MAAM,CAAC,QAAQ,EAAE;UAC1B,IAAI,IAAI,6DAA6D,GAAG,MAAM,CAAC,KAAK,GAAG,sBAAsB;YAC3G,YAAY,GAAGA,WAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,MAAM,CAAC,IAAI,GAAG,eAAe,CAAC;UAC7E,IAAI,IAAI,kBAAkB,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;SAC7D,MAAM;UACL,IAAI,IAAI,+DAA+D,GAAG,MAAM,CAAC,OAAO,GAAG,IAAI;YAC7F,uBAAuB,GAAG,MAAM,CAAC,KAAK,GAAG,gCAAgC,GAAGA,WAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI;YACvG,MAAM,CAAC,IAAI,GAAG,eAAe,CAAC;SACjC;;QAED,IAAI,IAAI,QAAQ,CAAC;OAClB,CAAC,CAAC;;MAEH,OAAO,IAAI,CAAC;KACb;;;IAGD,SAAS,kBAAkB,CAAC,UAAU,EAAE,OAAO,EAAE;MAC/C,IAAI,IAAI,GAAG,8CAA8C,CAAC;MAC1D,UAAU,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;QACnC,IAAI,IAAI,qDAAqD,GAAG,MAAM,CAAC,EAAE,GAAG,IAAI;UAC9E,yBAAyB,GAAG,OAAO,GAAG,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC;OACtE,CAAC,CAAC;MACH,IAAI,IAAI,QAAQ,CAAC;MACjB,OAAO,IAAI,CAAC;KACb;;;IAGD,SAAS,gBAAgB,CAAC,IAAI,EAAE;MAC9B,IAAI,IAAI,GAAG,EAAE,CAAC;MACd,IAAI,IAAI,6DAA6D;QACnE,qEAAqE,CAAC;MACxE,IAAI,IAAI,2CAA2C,CAAC;MACpD,OAAO,IAAI,CAAC;KACb;GACF;;;;;;;EAOD,OAAO,GAAG;IACR,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACjD,IAAI,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;IACjF,IAAI,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;IAC9E,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC;;IAEpE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE;MAC1D,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC5C,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;;IAErB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE;MAC1D,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC3C,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;;IAErB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAK,EAAE,UAAU,KAAK,EAAE;MACxD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;KACzC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;;IAErB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE;MACzD,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC1C,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;;IAErB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE;MAC1D,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC3C,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;;IAErB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE;MACzD,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;KAC1C,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;;IAErB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,uBAAuB,CAAC;OACjD,gBAAgB,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE;QAC1C,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACrC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC1C,KAAK,CAAC,cAAc,EAAE,CAAC;OACxB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;;IAEvB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC;OAChD,gBAAgB,CAAC,QAAQ,EAAE,UAAU,KAAK,EAAE;QAC3C,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC;QAChD,IAAI,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC/D,IAAI,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,MAAM,EAAE;UACpE,OAAO;YACL,IAAI,EAAE,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC;YACjC,KAAK,EAAE,MAAM,CAAC,KAAK;WACpB,CAAC;SACH,CAAC,CAAC;;QAEH,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;;QAErC,IAAI,CAAC,QAAQ,EAAE;UACb,OAAO;SACR;;QAED,IAAI,OAAO,KAAK,aAAa,EAAE;UAC7B,IAAI,KAAK,GAAG,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC;UACnD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;YAC7B,KAAK,IAAI,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;WAC7D;UACD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;YAC7B,KAAK,IAAI,WAAW,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;WAC9D;UACD,KAAK,IAAI,IAAI,CAAC;UACd,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;SACnC,MAAM,IAAI,OAAO,KAAK,YAAY,EAAE;UACnC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SAClC,MAAM;UACL,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SAC1C;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QACrC,KAAK,CAAC,cAAc,EAAE,CAAC;OACxB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;;;;;;;IAOvB,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,UAAU,MAAM,EAAE;MAC7D,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,UAAU,CAAC,EAAE;QAChD,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,MAAM,CAAC,OAAO,CAAC,eAAe,KAAK,aAAa,EAAE;UACpD,IAAI,CAAC,OAAO,CAAC,YAAY;YACvB,gBAAgB;YAChB,4CAA4C;YAC5C,4CAA4C;YAC5C,4CAA4C;YAC5C,4CAA4C;YAC5C,4CAA4C;YAC5C,kBAAkB;YAClB,CAAC;SACJ,MAAM;UACL,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,EAAE,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;SAC5E;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;OACtC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;KACtB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;;;;IAKd,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,UAAU,MAAM,EAAE;MAC5D,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,UAAU,CAAC,EAAE;QAChD,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC;;QAEjD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;QACtC,SAAS,CAAC,YAAY,CAAC,oBAAoB,EAAE,aAAa,CAAC,CAAC;QAC5D,SAAS,CAAC,KAAK,EAAE,CAAC;;QAElB,QAAQ,aAAa;UACnB,KAAK,WAAW;YACd,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAC;YACrC,IAAI,IAAI,yEAAyE,CAAC;YAClF,IAAI,IAAI,wFAAwF,CAAC;YACjG,MAAM;UACR,KAAK,WAAW;YACd,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAC;YACrC,IAAI,IAAI,mEAAmE,CAAC;YAC5E,IAAI,IAAI,wFAAwF,CAAC;YACjG,MAAM;UACR,KAAK,YAAY;YACf,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;YACjC,IAAI,IAAI,yDAAyD,CAAC;YAClE,IAAI,IAAI,gFAAgF,CAAC;YACzF,MAAM;UACR,KAAK,WAAW;YACd,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;YACjC,IAAI,IAAI,mCAAmC,CAAC;YAC5C,IAAI,IAAI,6FAA6F,CAAC;YACtG,MAAM;UACR,KAAK,aAAa;YAChB,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;YACjC,IAAI,IAAI,oFAAoF,CAAC;YAC7F,IAAI,IAAI,0EAA0E,CAAC;YACnF,IAAI,IAAI,4EAA4E,CAAC;YACrF,IAAI,IAAI,oFAAoF,CAAC;YAC7F,MAAM;UACR,KAAK,YAAY;YACf,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;YACjC,IAAI,IAAI,2DAA2D,GAAG,IAAI,CAAC,QAAQ,EAAE,GAAG,aAAa,CAAC;YACtG,IAAI,IAAI,kFAAkF,CAAC;YAC3F,MAAM;SACT;;QAED,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;OAC3C,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;KACtB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;GACf;;;;;;;;;EASD,QAAQ,GAAG;IACT,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;GACnC;;;;;;;;;EASD,QAAQ,CAAC,KAAK,EAAE;IACd,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,KAAK,CAAC;GACpC;;;;;;;;;EASD,OAAO,CAAC,KAAK,EAAE;IACb,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;IAChC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IACzB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;IAC1B,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;IAC1B,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;GACvC;;;;;;;;;;;EAWD,OAAO,CAAC,OAAO,EAAE,KAAK,EAAE;IACtB,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3D,KAAK,GAAG,CAAC,OAAO,KAAK,KAAK,WAAW,IAAI,EAAE,GAAG,KAAK,CAAC;IACpD,QAAQ,CAAC,WAAW,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;GAC7C;;;;AC9VH;;;;;AAKA,AACe,MAAM,QAAQ,CAAC;;EAE5B,WAAW,CAAC,OAAO,EAAE;IACnB,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;GAC9B;;EAED,MAAM,CAAC,EAAE,EAAE,OAAO,EAAE;IAClB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC;;IAErC,IAAI,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;GAChC;;;;;;;;;"}